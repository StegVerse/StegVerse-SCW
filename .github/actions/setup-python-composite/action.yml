name: "Setup Python (composite)"
description: "Setup Python and optionally install requirements or packages"
inputs:
  python-version:
    default: "3.x"
  requirements:
    description: "Path to requirements.txt (optional)"
    required: false
    default: ""
  packages:
    description: "Space-separated pip packages to install (optional)"
    required: false
    default: ""
runs:
  using: "composite"
  steps:
    - uses: actions/setup-python@v5
      with:
        python-version: ${{ inputs.python-version }}
        cache: "pip"
    - shell: bash
      run: |
        python -m pip install --upgrade pip
        if [ -n "${{ inputs.requirements }}" ] && [ -f "${{ inputs.requirements }}" ]; then
          pip install -r "${{ inputs.requirements }}"
        fi
        if [ -n "${{ inputs.packages }}" ]; then
          pip install ${{ inputs.packages }}
        fi
